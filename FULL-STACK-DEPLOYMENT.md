# üöÄ –ü–æ–ª–Ω—ã–π –¥–µ–ø–ª–æ–π –≤—Å–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä 212.8.227.80

## –ß—Ç–æ –±—É–¥–µ—Ç —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç–æ:

‚úÖ **Backend** (NestJS) - –ø–æ—Ä—Ç 4000  
‚úÖ **Frontend** (Next.js) - –ø–æ—Ä—Ç 3000  
‚úÖ **Telegram Bot** - –ø–æ—Ä—Ç 3001  
‚úÖ **Nginx** (reverse proxy) - –ø–æ—Ä—Ç 80  
‚úÖ **Docker** + **Docker Compose** –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞–º–∏

## üìã –ü–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è:

### 1Ô∏è‚É£ –ù–∞—Å—Ç—Ä–æ–∏—Ç—å GitHub Secrets

–í GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –ø–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Settings** ‚Üí **Secrets and variables** ‚Üí **Actions** –∏ –¥–æ–±–∞–≤—å—Ç–µ:

**–û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π —Å–µ–∫—Ä–µ—Ç:**
- `SERVER_PASSWORD` = `SDO9c2I!X8Qj`

**–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Å–µ–∫—Ä–µ—Ç—ã –¥–ª—è Telegram –±–æ—Ç–∞:**
- `TELEGRAM_BOT_TOKEN` = –≤–∞—à —Ç–æ–∫–µ–Ω –±–æ—Ç–∞ (–ø–æ–ª—É—á–∏—Ç—å —É @BotFather)
- `TELEGRAM_CHAT_ID` = ID —á–∞—Ç–∞ –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

### 2Ô∏è‚É£ –ó–∞–ø—É—Å—Ç–∏—Ç—å –¥–µ–ø–ª–æ–π

**–í–∞—Ä–∏–∞–Ω—Ç –ê:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ push
```bash
git add .
git commit -m "Deploy full stack application"
git push origin main
```

**–í–∞—Ä–∏–∞–Ω—Ç –ë:** –í—Ä—É—á–Ω—É—é —á–µ—Ä–µ–∑ GitHub Actions
1. –û—Ç–∫—Ä–æ–π—Ç–µ **Actions** –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏
2. –í—ã–±–µ—Ä–∏—Ç–µ **Deploy Full Stack Application**
3. –ù–∞–∂–º–∏—Ç–µ **Run workflow**

### 3Ô∏è‚É£ –î–æ–∂–¥–∞—Ç—å—Å—è –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è

–ü—Ä–æ—Ü–µ—Å—Å –∑–∞–π–º–µ—Ç **10-15 –º–∏–Ω—É—Ç**. CI/CD –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
- –£—Å—Ç–∞–Ω–æ–≤–∏—Ç Docker –∏ Docker Compose –Ω–∞ —Å–µ—Ä–≤–µ—Ä
- –ö–ª–æ–Ω–∏—Ä—É–µ—Ç –≤–µ—Å—å –ø—Ä–æ–µ–∫—Ç
- –°–æ–±–µ—Ä–µ—Ç –≤—Å–µ Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
- –ó–∞–ø—É—Å—Ç–∏—Ç –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã

### 4Ô∏è‚É£ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç

–ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã –±—É–¥—É—Ç –¥–æ—Å—Ç—É–ø–Ω—ã:

- üåê **Frontend:** http://212.8.227.80:3000
- üîß **Backend API:** http://212.8.227.80:4000
- ü§ñ **Telegram Bot:** http://212.8.227.80:3001
- üîó **Nginx Proxy:** http://212.8.227.80

## üîß –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ—Å–ª–µ –¥–µ–ø–ª–æ—è

### –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —Å–µ—Ä–≤–µ—Ä—É:
```bash
ssh root@212.8.227.80
cd /var/www/dshina
```

### –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:
```bash
# –ü—Ä–æ—Å–º–æ—Ç—Ä —Å—Ç–∞—Ç—É—Å–∞ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
docker-compose ps

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
docker-compose logs backend
docker-compose logs frontend
docker-compose logs telegram-bot

# –†–µ—Å—Ç–∞—Ä—Ç —Å–µ—Ä–≤–∏—Å–æ–≤
docker-compose restart

# –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞
git pull
docker-compose build --no-cache
docker-compose up -d

# –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
docker-compose down
```

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏:
- Backend health: http://212.8.227.80:4000/
- Telegram bot health: http://212.8.227.80:3001/health
- Frontend: http://212.8.227.80:3000

### –õ–æ–≥–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏:
```bash
docker-compose logs -f backend
docker-compose logs -f frontend
docker-compose logs -f telegram-bot
```

## üÜò –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –ï—Å–ª–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –Ω–µ –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è:
```bash
docker-compose down
docker system prune -f
docker-compose build --no-cache
docker-compose up -d
```

### –ï—Å–ª–∏ –Ω–µ—Ç –º–µ—Å—Ç–∞ –Ω–∞ –¥–∏—Å–∫–µ:
```bash
docker system prune -a
docker volume prune
```

### –ï—Å–ª–∏ –ø–æ—Ä—Ç—ã –∑–∞–Ω—è—Ç—ã:
```bash
netstat -tulpn | grep :3000
kill -9 <PID>
```

---

## ‚ö° –ì–æ—Ç–æ–≤–æ –∫ –∑–∞–ø—É—Å–∫—É!

1. –î–æ–±–∞–≤—å—Ç–µ —Å–µ–∫—Ä–µ—Ç `SERVER_PASSWORD`
2. –ó–∞–ø—É—à—å—Ç–µ –∫–æ–¥
3. –î–æ–∂–¥–∏—Ç–µ—Å—å –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è CI/CD
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–±–æ—Ç—É —Å–µ—Ä–≤–∏—Å–æ–≤

–í–µ—Å—å —Å—Ç–µ–∫ –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–∞ **–æ–¥–Ω–æ–º —Å–µ—Ä–≤–µ—Ä–µ** —á–µ—Ä–µ–∑ **Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã**!