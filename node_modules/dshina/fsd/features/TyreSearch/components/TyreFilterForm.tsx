"use client";
import { FormComponent } from "../../../shared/ui/FormComponent";
import { useTyreSearchForm } from "../hooks/useTyreSearchForm";
import style from "../TyreSearch.module.scss";
import { ButtonComponent } from "../../../shared/ui/Button";

interface TyreFilterFormProps {
  hookData?: ReturnType<typeof useTyreSearchForm>;
}

export const TyreFilterForm: React.FC<TyreFilterFormProps> = ({ hookData }) => {
  const fallbackData = useTyreSearchForm();
  const data = hookData || fallbackData;
  const { formValues, fieldsConfig, resetFilters } = data;

  return (
    <div className={style.formContainer}>
      <FormComponent
        fields={fieldsConfig}
        initialValues={formValues}
        title="ðŸ” ÐŸÐ¾Ð¸ÑÐº ÑˆÐ¸Ð½ Ð¿Ð¾ Ð¿Ð°Ñ€Ð°Ð¼ÐµÑ‚Ñ€Ð°Ð¼"
      >
        {({ resetForm }) => (
          <ButtonComponent
            variant="filled"
            text="Ð¡Ð±Ñ€Ð¾ÑÐ¸Ñ‚ÑŒ Ð¤Ð¸Ð»ÑŒÑ‚Ñ€"
            onClick={() => {
              resetFilters();
              resetForm();
            }}
          />
        )}
      </FormComponent>
    </div>
  );
};
